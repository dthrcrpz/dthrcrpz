<nav class="fixed top-0 left-0 py-4 w-full shadow-sm duration-300 transition-[background-color] bg-white dark:bg-dark z-50">
  <div class="container flex justify-between align-middle">
    <div>
      <a href="/">
        <svg width="100%" height="100%" viewBox="0 0 436 383" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-[50px]">
          <path d="M136.853 78.6856C136.853 70.4013 130.137 63.6856 121.853 63.6856C113.568 63.6856 106.853 70.4013 106.853 78.6856L136.853 78.6856ZM121.853 368V383C130.137 383 136.853 376.284 136.853 368L121.853 368ZM214.117 15C214.117 6.71573 207.401 0 199.117 0C190.832 0 184.117 6.71573 184.117 15H214.117ZM184.117 315.232C184.117 323.516 190.832 330.232 199.117 330.232C207.401 330.232 214.117 323.516 214.117 315.232H184.117ZM291.38 60.4897C291.38 52.2054 284.665 45.4897 276.38 45.4897C268.096 45.4897 261.38 52.2054 261.38 60.4897H291.38ZM261.38 368C261.38 376.284 268.096 383 276.38 383C284.665 383 291.38 376.284 291.38 368H261.38ZM330.47 347.544C330.227 355.825 336.742 362.735 345.023 362.978C353.304 363.221 360.214 356.706 360.457 348.425L330.47 347.544ZM329.101 255.376L340.698 245.862C340.303 245.381 339.879 244.925 339.428 244.497L329.101 255.376ZM406.76 278.611C410.653 285.923 419.737 288.695 427.049 284.802C434.362 280.909 437.134 271.825 433.24 264.513L406.76 278.611ZM85.4938 259.268C93.7781 259.268 100.494 252.552 100.494 244.268C100.494 235.984 93.7781 229.268 85.4938 229.268V259.268ZM106.853 78.6856L106.853 244.268L136.853 244.268L136.853 78.6856L106.853 78.6856ZM106.853 244.268L106.853 368L136.853 368L136.853 244.268L106.853 244.268ZM121.853 259.268H199.117V229.268H121.853V259.268ZM199.117 259.268H276.38V229.268H199.117V259.268ZM214.117 244.268V15H184.117V244.268H214.117ZM184.117 244.268V315.232H214.117V244.268H184.117ZM291.38 244.268V60.4897H261.38V244.268H291.38ZM261.38 244.268V368H291.38V244.268H261.38ZM276.38 259.268C288.551 259.268 297.502 259.307 304.858 260.472C311.829 261.576 315.866 263.495 318.775 266.256L339.428 244.497C330.633 236.149 320.113 232.514 309.551 230.841C299.374 229.229 287.817 229.268 276.38 229.268V259.268ZM329.101 255.376C317.505 264.891 317.504 264.89 317.503 264.889C317.503 264.889 317.502 264.888 317.502 264.887C317.501 264.886 317.5 264.885 317.499 264.884C317.497 264.882 317.496 264.88 317.496 264.879C317.494 264.877 317.494 264.878 317.496 264.88C317.5 264.885 317.511 264.898 317.527 264.918C317.561 264.96 317.62 265.033 317.702 265.135C317.865 265.34 318.116 265.658 318.432 266.068C319.068 266.893 319.944 268.062 320.886 269.41C322.963 272.382 324.626 275.195 325.299 276.944L353.301 266.18C351.256 260.861 347.821 255.582 345.478 252.228C344.21 250.413 343.046 248.86 342.194 247.756C341.766 247.2 341.412 246.75 341.155 246.429C341.026 246.268 340.922 246.138 340.845 246.043C340.806 245.995 340.775 245.956 340.75 245.926C340.738 245.911 340.727 245.898 340.718 245.887C340.714 245.882 340.71 245.877 340.707 245.873C340.705 245.871 340.703 245.869 340.702 245.867C340.701 245.866 340.7 245.865 340.7 245.864C340.699 245.863 340.698 245.862 329.101 255.376ZM325.299 276.944C330.952 291.651 331.915 298.352 330.47 347.544L360.457 348.425C361.89 299.676 361.393 287.229 353.301 266.18L325.299 276.944ZM351.933 263.475C351.319 262.516 351.671 262.582 351.584 263.365C351.51 264.032 351.247 263.982 351.91 263.258C353.528 261.493 358.023 258.769 365.402 257.708C379.67 255.657 397.253 260.754 406.76 278.611L433.24 264.513C416.531 233.127 385.028 224.578 361.133 228.013C349.431 229.696 337.574 234.5 329.794 242.987C325.76 247.39 322.536 253.148 321.768 260.047C320.988 267.061 322.913 273.784 326.666 279.648L351.933 263.475ZM121.853 353C83.4678 353 59.8516 345.527 46.4397 336.306C33.6469 327.511 29.5881 316.874 30.0324 306.795C31.0159 284.483 54.7276 259.268 85.4938 259.268V229.268C39.9048 229.268 1.8051 265.919 0.0614839 305.473C-0.857786 326.327 8.49084 346.623 29.4441 361.028C49.7783 375.007 80.2467 383 121.853 383V353Z" fill="#06B6D4"/>
        </svg>
      </a>
    </div>
    <div class="flex items-center">
      <div class="link-wrapper relative mr-5">
        <a href="/posts" class="mr-5 text-black dark:text-white hover:text-primary dark:hover:text-primary duration-300 transition-colors">posts</a>
      </div>
      {#if $theme == 'dark'}
        <button class="cursor-pointer" on:click={() => theme.setTheme('light')} aria-label="toggle-theme">
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" class="transition-colors duration-300 h-6 w-6 fill-black dark:fill-white hover:fill-primary dark:hover:fill-primary"><path d="M4.069 13h-4.069v-2h4.069c-.041.328-.069.661-.069 1s.028.672.069 1zm3.034-7.312l-2.881-2.881-1.414 1.414 2.881 2.881c.411-.529.885-1.003 1.414-1.414zm11.209 1.414l2.881-2.881-1.414-1.414-2.881 2.881c.528.411 1.002.886 1.414 1.414zm-6.312-3.102c.339 0 .672.028 1 .069v-4.069h-2v4.069c.328-.041.661-.069 1-.069zm0 16c-.339 0-.672-.028-1-.069v4.069h2v-4.069c-.328.041-.661.069-1 .069zm7.931-9c.041.328.069.661.069 1s-.028.672-.069 1h4.069v-2h-4.069zm-3.033 7.312l2.88 2.88 1.415-1.414-2.88-2.88c-.412.528-.886 1.002-1.415 1.414zm-11.21-1.415l-2.88 2.88 1.414 1.414 2.88-2.88c-.528-.411-1.003-.885-1.414-1.414zm2.312-4.897c0 2.206 1.794 4 4 4s4-1.794 4-4-1.794-4-4-4-4 1.794-4 4zm10 0c0 3.314-2.686 6-6 6s-6-2.686-6-6 2.686-6 6-6 6 2.686 6 6z"/></svg>
        </button>
      {:else}
        <button class="cursor-pointer" on:click={() => theme.setTheme('dark')} aria-label="toggle-theme">
          <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" class="transition-colors duration-300 h-6 w-6 fill-black dark:fill-white hover:fill-primary dark:hover:fill-primary"><path d="M10.719 2.082c-2.572 2.028-4.719 5.212-4.719 9.918 0 4.569 1.938 7.798 4.548 9.895-4.829-.705-8.548-4.874-8.548-9.895 0-5.08 3.808-9.288 8.719-9.918zm1.281-2.082c-6.617 0-12 5.383-12 12s5.383 12 12 12c1.894 0 3.87-.333 5.37-1.179-3.453-.613-9.37-3.367-9.37-10.821 0-7.555 6.422-10.317 9.37-10.821-1.74-.682-3.476-1.179-5.37-1.179zm0 10.999c1.437.438 2.562 1.564 2.999 3.001.44-1.437 1.565-2.562 3.001-3-1.436-.439-2.561-1.563-3.001-3-.437 1.436-1.562 2.561-2.999 2.999zm8.001.001c.958.293 1.707 1.042 2 2.001.291-.959 1.042-1.709 1.999-2.001-.957-.292-1.707-1.042-2-2-.293.958-1.042 1.708-1.999 2zm-1-9c-.437 1.437-1.563 2.562-2.998 3.001 1.438.44 2.561 1.564 3.001 3.002.437-1.438 1.563-2.563 2.996-3.002-1.433-.437-2.559-1.564-2.999-3.001z"/></svg>
        </button>
      {/if}
    </div>
  </div>
</nav>

<style>
  .link-wrapper::after {
    content: '';
    width: 2px;
    height: 100%;
    background-color: #06B6D4;
    opacity: 0.3;
    position: absolute;
    right: 0;
    top: 0;
  }
</style>

<script>
  import { theme } from '../../stores/global'
  import { onMount } from 'svelte'

  /* methods */
  function setSiteTheme() {
    if (localStorage.dcTheme === 'light' || localStorage.dcTheme == undefined) {
      theme.setTheme('light')
    } else {
      theme.setTheme('dark')
    }
  }

  /* lifecycle */
  onMount(() => {
    setSiteTheme()
  })
</script>